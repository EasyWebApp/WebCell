!function(e){if("function"!=typeof define||!define.amd)return"object"==typeof module?module.exports=e.call(global):this["web-cell"]=e.call(self);define("web-cell",e)}(function(){var l="function"==typeof this.require?this.require:function(e){if(null!=self[e])return self[e];throw ReferenceError("Can't find \""+e+'" module')},s=function include(e,t){a=t,t=/^[^./]/.test(a)?t:"./"+(r=e,n=t,(r+"/"+n).replace(/\/\//g,"/").replace(/[^/.]+\/\.\.\//g,"").replace(/\.\//g,function(e,t,r){return"."===r[t-1]?e:""}));var r,n;var a;var o,i=f[t];if(!i)return l(t);if(!i.exports){i.exports={};for(var u=i.dependency,c=0;u[c];c++)i.dependency[c]=s(u[c]);null!=(o=i.factory.apply(null,i.dependency.concat(include.bind(null,i.base),i.exports,i)))&&(i.exports=o),delete i.dependency,delete i.factory}return i.exports}.bind(null,"./");function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _toConsumableArray(e){return function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function asyncGeneratorStep(e,t,r,n,a,o,i){try{var u=e[o](i),c=u.value}catch(l){return void r(l)}u.done?t(c):Promise.resolve(c).then(n,a)}function _asyncToGenerator(o){return function(){var e=this,a=arguments;return new Promise(function(t,r){var n=o.apply(e,a);function _next(e){asyncGeneratorStep(n,t,r,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(n,t,r,_next,_throw,"throw",e)}_next(undefined)})}}function _slicedToArray(e,t){return function _arrayWithHoles(e){if(Array.isArray(e))return e}(e)||function _iterableToArrayLimit(e,t){var r=[],n=!0,a=!1,o=undefined;try{for(var i,u=e[Symbol.iterator]();!(n=(i=u.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(c){a=!0,o=c}finally{try{n||null==u["return"]||u["return"]()}finally{if(a)throw o}}return r}(e,t)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _wrapNativeSuper(e){var t="function"==typeof Map?new Map:undefined;return(_wrapNativeSuper=function _wrapNativeSuper(e){if(null===e||!_isNativeFunction(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,Wrapper)}function Wrapper(){return _construct(e,arguments,_getPrototypeOf(this).constructor)}return Wrapper.prototype=Object.create(e.prototype,{constructor:{value:Wrapper,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(Wrapper,e)})(e)}function isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function _construct(e,t,r){return(_construct=isNativeReflectConstruct()?Reflect.construct:function _construct(e,t,r){var n=[null];n.push.apply(n,t);var a=new(Function.bind.apply(e,n));return r&&_setPrototypeOf(a,r.prototype),a}).apply(null,arguments)}function _isNativeFunction(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f={"./component/InputComponent":{base:"./component",dependency:[],factory:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var n=e("../utility/DOM"),i=e("./Component"),u={readonly:{cursor:"default"},disabled:{cursor:"not-allowed","point-events":"none"}},a=function(e){function InputComponent(e){var t;return _classCallCheck(this,InputComponent),(t=_possibleConstructorReturn(this,_getPrototypeOf(InputComponent).call(this))).buildDOM(e).on.call(t.$("slot")[0],"slotchange",t.linkSlot.bind(_assertThisInitialized(_assertThisInitialized(t)))),t}return _inherits(InputComponent,_wrapNativeSuper(HTMLElement)),_createClass(InputComponent,[{key:"linkSlot",value:function(){var t=this,e=this.$slot("input")[0],r=this.$("input")[0];e.style.setProperty("display","none","important"),n.watchAttributes.call(this,e,["type","name","value","readonly","disabled","checked","placeholder"],this.changedPropertyOf),this.on.call(r,"input",function(){return e.value=r.value}),this.on.call(r,"change",function(e){return t.bubbleOut(e)})}},{key:"changedPropertyOf",value:function(e,t,r){"type"!==e||r||(r="text"),r=i.attributeChanged.call(this.view,e,t,r);var n=u[e];if(n)if(r)for(var a in n)this.style.setProperty("--input-".concat(a),n[a]);else for(var o in n)this.style.removeProperty("--input-".concat(o))}},{key:"defaultValue",get:function(){return this.getAttribute("value")}}]),InputComponent}();t["default"]=a}},"./utility/resource":{base:"./utility",dependency:[],factory:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.isXDomain=isXDomain,t.serialize=serialize,t.request=function request(e){return _request.apply(this,arguments)},t.blobOf=blobOf,t.fileTypeOf=function fileTypeOf(e){return _fileTypeOf.apply(this,arguments)},t.blobFrom=function blobFrom(e){var t=_slicedToArray(c.exec(e)||[],5),r=(t[0],t[1]),n=(t[2],t[3]),a=t[4];a=n?window.atob(a):a;for(var o=new ArrayBuffer(a.length),i=new Uint8Array(o),u=0;a[u];u++)i[u]=a.charCodeAt(u);return new Blob([o],{type:r})};var s=e("./object"),f=e("./DOM");function isXDomain(e){return new URL(e,document.baseURI).origin!==window.location.origin}function serialize(e){if((0,f.$)('input[type="file"][name]',e)[0])return new FormData(e);var t=Array.from(e.elements,function(e){return e.name&&[e.name,e.value]}).filter(Boolean);if("application/json"!==(e.form||e).getAttribute("enctype"))return""+new URLSearchParams(t);var r=!0,n=!(e={}),a=undefined;try{for(var o,i=t[Symbol.iterator]();!(r=(o=i.next()).done);r=!0){var u=_slicedToArray(o.value,2),c=u[0],l=u[1];e[c]=l}}catch(s){n=!0,a=s}finally{try{r||null==i["return"]||i["return"]()}finally{if(n)throw a}}return e}function _request(){return(_request=_asyncToGenerator(regeneratorRuntime.mark(function _callee(r){var n,a,o,i,u,c,l=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=1<l.length&&l[1]!==undefined?l[1]:"GET",a=2<l.length?l[2]:undefined,o=3<l.length?l[3]:undefined,i=4<l.length?l[4]:undefined,a instanceof Element&&(a=serialize(a)),a instanceof Object)try{a=JSON.stringify(a.valueOf()),(o=o||{})["Content-Type"]=o["Content-Type"]||"application/json"}catch(t){}return e.next=8,window.fetch(r,(0,s.extend)({method:n,headers:o,body:a,mode:isXDomain(r)?"cors":"same-origin",credentials:"same-origin"},i));case 8:u=e.sent,c=u.headers.get("Content-Type").split(";")[0],e.t0=c,e.next="text/html"===e.t0?13:"application/json"===e.t0?18:21;break;case 13:return e.t1=f.parseDOM,e.next=16,u.text();case 16:return e.t2=e.sent,e.abrupt("return",(0,e.t1)(e.t2));case 18:return e.next=20,u.json();case 20:return e.abrupt("return",e.sent);case 21:return e.next=23,u["text"===c.split("/")[0]?"text":"blob"]();case 23:return e.abrupt("return",e.sent);case 24:case"end":return e.stop()}},_callee,this)}))).apply(this,arguments)}function blobOf(e){var r=new XMLHttpRequest;return r.responseType="blob",r.open("GET",e),new Promise(function(e,t){r.onload=function(){return e(r.response)},r.onerror=t,r.send()})}var u=/^(?:(\w+):)?.+?(?:\.(\w+))?$/,c=/^data:(.+?\/(.+?))?(;base64)?,(\S+)/;function _fileTypeOf(){return(_fileTypeOf=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(t){var r,n,a,o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=u.exec(t)||[],n=_slicedToArray(r,3),n[0],a=n[1],o=n[2],e.t0=a,e.next="data"===e.t0?4:"blob"===e.t0?5:9;break;case 4:return e.abrupt("return",{schema:"data",type:c.exec(t)[2]});case 5:return e.next=7,blobOf(t);case 7:return i=e.sent,e.abrupt("return",{schema:"blob",type:i.type});case 9:return e.abrupt("return",{schema:a,type:o});case 10:case"end":return e.stop()}},_callee2,this)}))).apply(this,arguments)}}},"./view/ArrayView":{base:"./view",dependency:[],factory:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var n=_interopRequireDefault(e("./View")),o=_interopRequireDefault(e("./ObjectView"));function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}var a=[][Symbol.iterator],i=[].indexOf,u=function(e){function ArrayView(e,t){var r;return _classCallCheck(this,ArrayView),(r=_possibleConstructorReturn(this,_getPrototypeOf(ArrayView).call(this,e,"array",[],t))).booted||(r.template=e.children[0].content,r.clear()),_possibleConstructorReturn(r)}return _inherits(ArrayView,n["default"]),_createClass(ArrayView,[{key:Symbol.iterator,value:function(){return a.call(this)}},{key:"clear",value:function(){return Array.prototype.splice.call(this,0,Infinity),this.content.innerHTML="",this}},{key:"valueOf",value:function(){return Array.from(this,function(e){return e.valueOf()})}},{key:"update",value:function(){var e=!0,t=!1,r=undefined;try{for(var n,a=this[Symbol.iterator]();!(e=(n=a.next()).done);e=!0){n.value.render()}}catch(o){t=!0,r=o}finally{try{e||null==a["return"]||a["return"]()}finally{if(t)throw r}}return this}},{key:"render",value:function(e){var t,r,n=this;if(!e)return this.update();var a=this.data;return(t=this.content).append.apply(t,_toConsumableArray((r=[]).concat.apply(r,_toConsumableArray(Array.from(e,function(e){var t=n[n.length++]=new o["default"](n.template.cloneNode(!0),n);return a[a.length]=t.data,null==e.index&&Object.defineProperty(e,"index",{get:function(){return a.indexOf(this)},enumerable:!0}),t.render(e).content}))))),this}},{key:"push",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.render(t).length}},{key:"indexOf",value:function(e,t){return i.call(this,e,t)}}]),ArrayView}();t["default"]=u}},"./utility/object":{base:"./utility",dependency:[],factory:function(e,t,r){var o=regeneratorRuntime.mark(mapTree);Object.defineProperty(t,"__esModule",{value:!0}),t.classNameOf=function classNameOf(e){return Object.prototype.toString.call(e).slice(8,-1)},t.getPropertyDescriptor=function getPropertyDescriptor(e,t){var r;e=Object.create(e);for(;e=Object.getPrototypeOf(e);)if(r=Object.getOwnPropertyDescriptor(e,t))return r},t.multipleMap=function multipleMap(e,t){var r=[];t=t instanceof Function&&t;for(var n=0;n<e.length;n++){var a=t?t(e[n],n,e):e[n];null!=a&&(a instanceof Array?r.push.apply(r,_toConsumableArray(a)):r.push(a))}return r},t.extend=function extend(e){for(var t=arguments.length,r=new Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];for(var a=0;a<r.length;a++){var o=r[a];if(o instanceof Object){for(var i=Object.getOwnPropertyDescriptors(o),u=Object.keys(i),c=0;c<u.length;c++){var l=u[c];"value"in i[l]&&null==i[l].value&&delete i[l]}if(o instanceof Function){delete i.name,delete i.length,delete i.prototype;var s=Object.getOwnPropertyDescriptors(o.prototype);delete s.constructor,Object.defineProperties(e.prototype,s)}Object.defineProperties(e,i)}}return e},t.mapTree=mapTree,t.decoratorOf=function decoratorOf(e,t,r){var n=3<arguments.length&&arguments[3]!==undefined?arguments[3]:{enumerable:!0};n={key:t,descriptor:n,placement:e instanceof Function?"static":"prototype"},r instanceof Function?(n.kind="method",n.descriptor.value=r):r.constructor===Object&&(r.set||r.get)instanceof Function?(n.kind="method",Object.assign(n.descriptor,r)):(n.kind="field",n.initializer=function(){return r});return n};var i=0;function mapTree(t,r){var n,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t[r],i++,a=0;case 3:if(a<n.length)return e.next=6,{parent:t,node:n[a],index:a,depth:i};e.next=11;break;case 6:if(null!=n[a]&&(n[a][r]||"")[0])return e.delegateYield(mapTree(n[a],r),"t0",8);e.next=8;break;case 8:a++,e.next=3;break;case 11:i--;case 12:case"end":return e.stop()}},o,this)}}},"./view/View":{base:"./view",dependency:[],factory:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var o=e("../utility/DOM"),n=new WeakMap,a=new WeakMap,i=new WeakMap,u=new WeakMap,c=function(){function View(e,t,r,n){if(_classCallCheck(this,View),this.constructor===View)throw TypeError('"View" is an abstract class');switch(e.nodeType){case 1:this.name=e.dataset[t];break;case 11:e.parentNode||e.host||(e=_toConsumableArray(e.childNodes));break;default:e=_toConsumableArray(document.importNode((0,o.parseDOM)(e),!0).childNodes)}var a=this.bindWith(e);if(a!==this)return a.booted=!0,a;i.set(this,r),u.set(this,n)}return _createClass(View,[{key:"bindWith",value:function(e){var t,r=this;return e instanceof Array?e=e.filter(function(e){switch(e.nodeType){case 1:(t=a.get(e))||a.set(e,r);break;case 3:if(!e.nodeValue.trim())return}return!0}):(t=a.get(e))||a.set(e,this),n.set(this,e),t||this}},{key:"toString",value:function(){return(0,o.stringifyDOM)(this.content)}},{key:"valueOf",value:function(){throw TypeError("View.prototype.valueOf() must be overwriten")}},{key:"render",value:function(){throw TypeError("View.prototype.render() must be overwriten")}},{key:"clear",value:function(){throw TypeError("View.prototype.clear() must be overwriten")}},{key:"content",get:function(){return n.get(this)}},{key:"data",get:function(){return i.get(this)}},{key:"parent",get:function(){var e=u.get(this);if(e instanceof View)return e;for(var t=this.content[0]||this.content;t=t.parentNode;)if(e=View.instanceOf(t))return u.set(this,e)&&e}},{key:"scope",get:function(){return(this.parent||"").data}},{key:"rootHost",get:function(){for(var e=this;e.parent;)e=e.parent;return e.content.host}}],[{key:"instanceOf",value:function(e){return a.get(e)}}]),View}();t["default"]=c}},"./view/ObjectView":{base:"./view",dependency:[],factory:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var f=_interopRequireDefault(e("./View")),p=_interopRequireDefault(e("./Template")),a=e("../utility/DOM"),d=e("../utility/object"),l=_interopRequireDefault(e("./ArrayView"));function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}var n=[][Symbol.iterator],y=new WeakMap,o=new WeakMap,i=function(e){function ObjectView(e,t){var r;return _classCallCheck(this,ObjectView),(r=_possibleConstructorReturn(this,_getPrototypeOf(ObjectView).call(this,e,"object",{},t))).booted||(r.length=0,r.scan()),_possibleConstructorReturn(r)}var r;return _inherits(ObjectView,f["default"]),_createClass(ObjectView,[{key:Symbol.iterator,value:function(){return n.call(this)}},{key:"valueOf",value:function(){var e=Object.assign({},this.data),t=!0,r=!1,n=undefined;try{for(var a,o=this[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){var i=a.value;i instanceof f["default"]&&(e[i.name]=i.valueOf())}}catch(u){r=!0,n=u}finally{try{t||null==o["return"]||o["return"]()}finally{if(r)throw n}}return e}},{key:"commit",value:(r=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(t,r){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(n=o.get(this))||o.set(this,n={}),n[t]=r,e.next=4,(0,a.nextTick)();case 4:if(o.get(this)){e.next=6;break}return e.abrupt("return");case 6:this.render(n),o["delete"](this);case 8:case"end":return e.stop()}},_callee3,this)})),function(e,t){return r.apply(this,arguments)})},{key:"watch",value:function(t,e){var r=this;return t in this?t in Object.getPrototypeOf(this)&&console.warn("Don't overwrite Inset property \"".concat(t,'" !')):Object.defineProperty(this,t,e?{value:e,enumerable:!0}:{get:function(){return r.data[t]},set:function(e){return r.commit(t,e)},enumerable:!0}),this}},{key:"addTemplate",value:function(e,t){if(t[0]){y.set(this[this.length++]=t,e);var r=!0,n=!1,a=undefined;try{for(var o,i=t.reference.get("view")[Symbol.iterator]();!(r=(o=i.next()).done);r=!0){var u=o.value;this.watch(u)}}catch(c){n=!0,a=c}finally{try{r||null==i["return"]||i["return"]()}finally{if(n)throw a}}}}},{key:"addView",value:function(e,t){this.watch(e,t)[this.length++]=t}},{key:"parseTag",value:function(n){for(var a=this,o=_toConsumableArray(n.attributes),i=function i(){var e=o[u],t=e.name,r=ObjectView.templateOf(e,t in n?function(e){return n[t]=e}:function(e){return n.setAttribute(t,e)});""==r&&n.removeAttribute(t),a.addTemplate(n,r)},u=0;u<o.length;u++)i()}},{key:"scan",value:function(){var n=this,e=this.content;e=e.parentNode?e:{childNodes:e instanceof Array?e:[e]};var t=!0,r=!1,a=undefined;try{for(var o,i=function i(){var t=o.value.node;switch(t.nodeType){case 1:t.dataset.object?n.addView(t.dataset.object,new ObjectView(t)):t.dataset.array?n.addView(t.dataset.array,new l["default"](t)):n.parseTag(t);break;case 3:var e=ObjectView.templateOf(t,function(e){return t.nodeValue=e}),r=t.parentNode;r.innerHTML.trim()||(e.onChange=function(e){return r.innerHTML=e}),n.addTemplate(r,e)}},u=(0,d.mapTree)(e,"childNodes")[Symbol.iterator]();!(t=(o=u.next()).done);t=!0)i()}catch(c){r=!0,a=c}finally{try{t||null==u["return"]||u["return"]()}finally{if(r)throw a}}}},{key:"render",value:function(e){var t=(0,d.extend)(this.data,e);for(var r in e)this.watch(r);var n=!0,a=!1,o=undefined;try{for(var i,u=this[Symbol.iterator]();!(n=(i=u.next()).done);n=!0){var c=i.value,l=c.name;c instanceof p["default"]?c.evaluate(y.get(c),t,this.scope,this.rootHost):c instanceof f["default"]&&(t[l]=c.render(e[l]).data)}}catch(s){a=!0,o=s}finally{try{n||null==u["return"]||u["return"]()}finally{if(a)throw o}}return this}},{key:"clear",value:function(){var e=!0,t=!1,r=undefined;try{for(var n,a=this[Symbol.iterator]();!(e=(n=a.next()).done);e=!0){n.value.clear()}}catch(o){t=!0,r=o}finally{try{e||null==a["return"]||a["return"]()}finally{if(t)throw r}}return this}},{key:"scope",get:function(){for(var e=this;e=e.parent;)if(!(e instanceof l["default"]))return e.data}}],[{key:"templateOf",value:function(e,t){return new p["default"](e.value||e.nodeValue,["view","scope","host"],t)}}]),ObjectView}();t["default"]=i}},"./view/Template":{base:"./view",dependency:[],factory:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var n=[][Symbol.iterator],a=function(){function Template(e,t,r,n){_classCallCheck(this,Template),this.length=0,this.raw=e,this.value=null,t instanceof Function&&(n=r,r=t,t=null),this.varName=t||[],this.reference=new Map;var a=!0,o=!1,i=undefined;try{for(var u,c=["this"].concat(this.varName)[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var l=u.value;this.reference.set(l,[])}}catch(s){o=!0,i=s}finally{try{a||null==c["return"]||c["return"]()}finally{if(o)throw i}}this.onChange=r instanceof Function?r:null,this.data=n||[],this.parse().clear()}return _createClass(Template,[{key:Symbol.iterator,value:function(){return n.call(this)}},{key:"push",value:function(){return Array.prototype.push.apply(this,arguments)}},{key:"compile",value:function(e){return this[this.length++]=_construct(Function,_toConsumableArray(this.varName).concat(["return "+e.trim()])),this.length-1}},{key:"parse",value:function(){var o=this,i=function i(e,t,r,n,a){o.reference.has(t)&&o.reference.get(t).push(r||n||a)};return this.raw=this.raw.replace(Template.Expression,function(e,t){return t.replace(Template.Reference,i),"${"+o.compile(t)+"}"}),this}},{key:"eval",value:function(e,t,r){try{var n=this[e].apply(t,r);return null!=n?n:""}catch(a){return null!==this.value&&console.warn(a),""}}},{key:"evaluate",value:function(r){for(var n=this,e=arguments.length,a=new Array(1<e?e-1:0),t=1;t<e;t++)a[t-1]=arguments[t];var o="${0}"!==this.raw?this.raw.replace(/\$\{(\d+)\}/g,function(e,t){return n.eval(t,r,a)}):this.eval(0,r,a);return o!==this.value&&(this.onChange&&this.onChange.apply(this,_toConsumableArray([o,this.value].concat(this.data))),this.value=o),o}},{key:"clear",value:function(){return this.evaluate.apply(this,_toConsumableArray(Array.from(this.reference.entries(),function(e){var t={},r=!0,n=!1,a=undefined;try{for(var o,i=e[1][Symbol.iterator]();!(r=(o=i.next()).done);r=!0){t[o.value]=""}}catch(u){n=!0,a=u}finally{try{r||null==i["return"]||i["return"]()}finally{if(n)throw a}}return t})))}},{key:"toString",value:function(){return this.value+""}}],[{key:"Expression",get:function(){return/\$\{([\s\S]+?)\}/g}},{key:"Reference",get:function(){return/(\w+)(?:\.(\w+)|\[(?:'([^']+)|"([^"]+)))/g}}]),Template}();t["default"]=a}},"./utility/DOM":{base:"./utility",dependency:[],factory:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.$=$,t.$up=$up,t.mediaReady=function mediaReady(e){return Promise.all($("img[src], iframe[src], audio[src], video[src]",e).map(function(n){if(!a["default"].Expression.test(n.getAttribute("src")))switch(n.tagName.toLowerCase()){case"img":return mediaLoad(n,function(){return n.complete});case"iframe":return new Promise(function(e,t){try{"complete"===n.contentDocument.readyState?e():(n.onload=e,n.onerror=t)}catch(r){e()}});case"audio":case"video":return mediaLoad(n,function(){return 0<n.readyState})}}))},t.indexOf=function indexOf(e){var t=0;for(;e=e.previousElementSibling;)t++;return t},t.targetOf=targetOf,t.delegate=function delegate(r,n){return function(e){var t=targetOf(e);if(t.matches(r)||(t=$up(r,t)),t)return n.call(t,e)}},t.parseDOM=function parseDOM(e){var t=document.createElement("template");return t.innerHTML=e,t.content},t.stringifyDOM=function stringifyDOM(e){return 1===e.nodeType?e.outerHTML:Array.from(e.childNodes||e,function(e){switch(e.nodeType){case 1:return e.outerHTML;case 3:return e.nodeValue}}).join("")},t.watchAttributes=function watchAttributes(c,e,l){var s=this,t=new MutationObserver(function(e){var t=!0,r=!1,n=undefined;try{for(var a,o=e[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){var i=a.value;l.call(s,i.attributeName,i.oldValue,c.getAttribute(i.attributeName))}}catch(u){r=!0,n=u}finally{try{t||null==o["return"]||o["return"]()}finally{if(r)throw n}}});t.observe(c,{attributes:!0,attributeOldValue:!0,attributeFilter:e});var r=!0,n=!1,a=undefined;try{for(var o,i=c.attributes[Symbol.iterator]();!(r=(o=i.next()).done);r=!0){var u=o.value;l.call(this,u.name,null,u.value)}}catch(f){n=!0,a=f}finally{try{r||null==i["return"]||i["return"]()}finally{if(n)throw a}}return t},t.delay=function delay(t){return new Promise(function(e){return setTimeout(e,1e3*(t||0))})},t.nextTick=function nextTick(){return n||(n=new Promise(function(t){return window.requestAnimationFrame(function(e){return n=null,t(e)})}))},t.documentReady=void 0;var a=function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}(e("../view/Template"));var n,o=new Promise(function(e){document.addEventListener("DOMContentLoaded",e),window.addEventListener("load",e),function check(){"complete"===document.readyState?e():setTimeout(check)}()});function $(e,t){return _toConsumableArray((t||document).querySelectorAll(e))}function $up(e,t){for(;t.parentNode;)if((t=t.parentNode).matches&&t.matches(e))return t}function mediaLoad(r,n){return new Promise(function(e,t){n()?e():(r.onload=e,r.onerror=t)})}function targetOf(e){return((e.composedPath?e.composedPath():e.path)||"")[0]||e.target}t.documentReady=o}},"./component/Component":{base:"./component",dependency:[],factory:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.linkDataOf=function linkDataOf(e){var r=this,t=!0,n=!1,a=undefined;try{for(var o,i=function i(){var t=o.value;(t=l[t]||t)in r.prototype||Object.defineProperty(r.prototype,t,{set:function(e){this.view.commit(t,e)},get:function(){return this.view.data[t]},enumerable:!0})},u=e[Symbol.iterator]();!(t=(o=u.next()).done);t=!0)i()}catch(c){n=!0,a=c}finally{try{t||null==u["return"]||u["return"]()}finally{if(n)throw a}}return e},t.attributeChanged=function attributeChanged(e,t,r){switch(e=l[e]||e,r){case"":return this[e]=!0;case null:return this[e]=!1;default:try{return this[e]=JSON.parse(r)}catch(n){return this[e]=r}}},t["default"]=void 0;var n=e("../utility/DOM"),i=_interopRequireDefault(e("../view/ObjectView")),a=_interopRequireDefault(e("../view/View"));function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}var o=function(){function Component(){_classCallCheck(this,Component)}return _createClass(Component,[{key:"buildDOM",value:function(e){ShadyCSS.nativeCss&&ShadyCSS.nativeShadow||ShadyCSS.styleElement(this);var t=this.attachShadow(function _objectSpread(a){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},t=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),t.forEach(function(e){var t,r,n;t=a,n=o[r=e],r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n})}return a}({mode:"open",delegatesFocus:!0},e)),r=this.constructor,n=r.template,a=r.data;n&&t.appendChild(document.importNode(n,!0));var o=new i["default"](t);return o[0]&&o.render(a),this}},{key:"bubbleOut",value:function(e){return this.shadowRoot.host.dispatchEvent(new e.constructor(e.type,{bubbles:e.bubbles,cancelable:e.cancelable}))}},{key:"$",value:function(e){return(0,n.$)(e,this.shadowRoot)}},{key:"$up",value:function(e){return(0,n.$up)(e,this)}},{key:"$slot",value:function(t){var e;return(e=[]).concat.apply(e,_toConsumableArray(this.$("slot").map(function(e){return e.assignedNodes()}))).filter(function(e){return e.matches&&e.matches(t)})}},{key:"on",value:function(e,t,r){return t instanceof Function&&(r=t,t=""),this.addEventListener(e,t?(0,n.delegate)(t,r):r),this}},{key:"view",get:function(){return a["default"].instanceOf(this.shadowRoot)}}],[{key:"tagName",get:function(){return this.name.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}).slice(1)}}]),Component}();t["default"]=o;var l={"class":"className","for":"htmlFor",readonly:"readOnly"}}},"./WebCell":{base:".",dependency:[],factory:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n={mapProperty:!0,blobURI:!0,component:!0,Component:!0,attributeChanged:!0,InputComponent:!0,Template:!0,View:!0,ObjectView:!0,ArrayView:!0};t.mapProperty=function mapProperty(e){var t=e.descriptor.get;e.descriptor.get=function(){var e=(0,c.getPropertyDescriptor)(this.prototype,"attributeChangedCallback");return e||Object.defineProperty(this.prototype,"attributeChangedCallback",{value:u.attributeChanged}),u.linkDataOf.call(this,t.call(this))}},t.blobURI=function blobURI(e){var t,r=e.descriptor.get;e.descriptor.get=function(){return t||(t=URL.createObjectURL((0,a.blobFrom)(r.apply(this,arguments))))}},t.component=function component(){var e=0<arguments.length&&arguments[0]!==undefined?arguments[0]:{},n=e.template,a=e.style,o=e.data,i=e.tagName;return function(e){var t=e.elements,r=(n||a)&&function define(e,t,r){if(t)if(t instanceof Node&&(t=(0,l.stringifyDOM)(t)),"TEMPLATE"!==(t=(0,l.parseDOM)((t+"").trim())).firstChild.tagName){var n=document.createElement("template");n.content.appendChild(t),t=n}else t=t.firstChild;else t=document.createElement("template");e.push((0,c.decoratorOf)(u["default"],"template",t.content)),r&&(r instanceof Node||(r=Object.assign(document.createElement("style"),{textContent:r})),e.push((0,c.decoratorOf)(u["default"],"style",r)),t.content.insertBefore(r,t.content.firstChild));return t}(t,n,a);return o&&t.push((0,c.decoratorOf)(u["default"],"data",o)),decoratorMix(t,u["default"]),decoratorMix(t,u["default"].prototype),{kind:"class",elements:t,finisher:function(e){!r||ShadyCSS.nativeCss&&ShadyCSS.nativeShadow||ShadyCSS.prepareTemplate(r,e.tagName),window.customElements.define(e.tagName,e,i&&{"extends":i})}}}},Object.defineProperty(t,"Component",{enumerable:!0,get:function(){return u["default"]}}),Object.defineProperty(t,"attributeChanged",{enumerable:!0,get:function(){return u.attributeChanged}}),Object.defineProperty(t,"InputComponent",{enumerable:!0,get:function(){return o["default"]}}),Object.defineProperty(t,"Template",{enumerable:!0,get:function(){return i["default"]}}),Object.defineProperty(t,"View",{enumerable:!0,get:function(){return s["default"]}}),Object.defineProperty(t,"ObjectView",{enumerable:!0,get:function(){return f["default"]}}),Object.defineProperty(t,"ArrayView",{enumerable:!0,get:function(){return p["default"]}});var u=function _interopRequireWildcard(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t["default"]=e,t}}(e("./component/Component")),c=e("./utility/object");Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}}))});var l=e("./utility/DOM");Object.keys(l).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}}))});var a=e("./utility/resource");Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))});var o=_interopRequireDefault(e("./component/InputComponent")),i=_interopRequireDefault(e("./view/Template")),s=_interopRequireDefault(e("./view/View")),f=_interopRequireDefault(e("./view/ObjectView")),p=_interopRequireDefault(e("./view/ArrayView"));function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}var d=new Set(Object.getOwnPropertyNames(Function).concat(Object.getOwnPropertyNames(function(){})));function decoratorMix(e,t){var r=t instanceof Function,n=Object.getOwnPropertyDescriptors(t);for(var a in n)(r?d.has(a):"constructor"===a&&n[a].value instanceof Function)||e.push((0,c.decoratorOf)(t,a,n[a].value||n[a]))}d["delete"]("toString")}}};return s("./WebCell")});
//# sourceMappingURL=web-cell.js.map